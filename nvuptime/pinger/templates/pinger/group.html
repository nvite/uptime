{% extends "base.html" %}
{% load humanize staticfiles %}

{% block title %}{{ object.title }} | {{ block.super }}{% endblock %}

{% block styles %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static "pinger/css/pinger.css" %}">
{% endblock %}

{% block scripts %}
<script src="{% static "pinger/js/pinger.js" %}" type="text/javascript" charset="utf-8" async defer></script>
{% endblock %}

{% block content %}
<h1>{{ object.title }}</h1>

{% for endpoint in object.endpoints.active %}
    <h2>{{ endpoint.title }}</h2>
    <p><strong>Status:</strong> {% if endpoint.is_up %}Up{% else %}Down{% endif %}<br/>
    <small>Last pinged: {{ endpoint.pings.latest.created_at | naturaltime }}</small>
    <hr/>
{% endfor %}
{% endblock %}
